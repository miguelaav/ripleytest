{"ast":null,"code":"var _jsxFileName = \"/Users/miguelacevedo/Projects/ripleytest/ripleyapp/src/ApiCall/ApiCall.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nclass ApiCall extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      temperature: null,\n      time: null,\n      zone: null\n    };\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    /**\n    * this is the initial render\n    * without a previous prop change\n    */\n    if (prevProps == undefined) {\n      return false;\n    }\n    /**\n     * new Project in town ?\n     */\n\n\n    if (this.state.id != this.props.router.params.id) {\n      this.props.dispatch(fetchProject(this.props.router.params.id));\n      this.setState({\n        id: this.props.router.params.id\n      });\n    }\n  }\n\n  async componentDidMount() {\n    const params = this.props.match.params;\n    console.log(params.id);\n    const ids = params.id;\n    const results = (await axios.get('http://localhost:8081/' + ids)).data;\n    this.setState({\n      temperature: results.body.currently.temperature,\n      time: results.body.currently.time,\n      zone: results.body.timezone\n    });\n    console.log(this.state.results);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, this.state.results === null && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Please first select a country zone...\"), React.createElement(\"div\", {\n      className: \"card text-white bg-success mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Temperatura y hora\"), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.state.zone), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.state.temperature, \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), this.state.time, \"   \")))));\n  }\n\n}\n\nexport default ApiCall;","map":{"version":3,"sources":["/Users/miguelacevedo/Projects/ripleytest/ripleyapp/src/ApiCall/ApiCall.js"],"names":["React","Component","Link","axios","ApiCall","constructor","props","state","temperature","time","zone","componentDidUpdate","prevProps","prevState","undefined","id","router","params","dispatch","fetchProject","setState","componentDidMount","match","console","log","ids","results","get","data","body","currently","timezone","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAN,SAAsBH,SAAtB,CAAgC;AAC9BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,IADF;AAEXC,MAAAA,IAAI,EAAC,IAFM;AAGXC,MAAAA,IAAI,EAAC;AAHM,KAAb;AAKD;;AAED,QAAOC,kBAAP,CAA0BC,SAA1B,EAAqCC,SAArC,EAAgD;AAC9C;;;;AAID,QAAGD,SAAS,IAAIE,SAAhB,EAA2B;AACvB,aAAO,KAAP;AACH;AAED;;;;;AAGA,QAAI,KAAKP,KAAL,CAAWQ,EAAX,IAAiB,KAAKT,KAAL,CAAWU,MAAX,CAAkBC,MAAlB,CAAyBF,EAA9C,EAAkD;AAC/C,WAAKT,KAAL,CAAWY,QAAX,CAAoBC,YAAY,CAAC,KAAKb,KAAL,CAAWU,MAAX,CAAkBC,MAAlB,CAAyBF,EAA1B,CAAhC;AACA,WAAKK,QAAL,CAAc;AAACL,QAAAA,EAAE,EAAE,KAAKT,KAAL,CAAWU,MAAX,CAAkBC,MAAlB,CAAyBF;AAA9B,OAAd;AACF;AAEH;;AAEC,QAAMM,iBAAN,GAA0B;AAAA,UACPJ,MADO,GACM,KAAKX,KADX,CAChBgB,KADgB,CACPL,MADO;AAExBM,IAAAA,OAAO,CAACC,GAAR,CAAYP,MAAM,CAACF,EAAnB;AACA,UAAMU,GAAG,GAAGR,MAAM,CAACF,EAAnB;AACA,UAAMW,OAAO,GAAG,CAAC,MAAMvB,KAAK,CAACwB,GAAN,CAAU,2BAAyBF,GAAnC,CAAP,EAAgDG,IAAhE;AACA,SAAKR,QAAL,CAAc;AACVZ,MAAAA,WAAW,EAAGkB,OAAO,CAACG,IAAR,CAAaC,SAAb,CAAuBtB,WAD3B;AAEVC,MAAAA,IAAI,EAAGiB,OAAO,CAACG,IAAR,CAAaC,SAAb,CAAuBrB,IAFpB;AAGVC,MAAAA,IAAI,EAAGgB,OAAO,CAACG,IAAR,CAAaE;AAHV,KAAd;AAKAR,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWmB,OAAvB;AACD;;AAEDM,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC,KAAKzB,KAAL,CAAWmB,OAAX,KAAuB,IAAvB,IAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAFhC,EAGA;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B,KAAKnB,KAAL,CAAWG,IAAvC,CADJ,EAEI;AAAG,MAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0B,KAAKH,KAAL,CAAWC,WAArC,OAAkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlD,EAC2B,KAAKD,KAAL,CAAWE,IADtC,QAFJ,CAFF,CAHA,CADF,CADF;AAkBD;;AA9D6B;;AAsEhC,eAAeL,OAAf","sourcesContent":["import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n\nclass ApiCall extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      temperature: null,\n      time:null,\n      zone:null,\n    };\n  }\n\n  async  componentDidUpdate(prevProps, prevState) {\n    /**\n    * this is the initial render\n    * without a previous prop change\n    */\n   if(prevProps == undefined) {\n       return false\n   }\n\n   /**\n    * new Project in town ?\n    */\n   if (this.state.id != this.props.router.params.id) {\n      this.props.dispatch(fetchProject(this.props.router.params.id))\n      this.setState({id: this.props.router.params.id})\n   }\n\n}\n\n  async componentDidMount() {\n    const { match: { params } } = this.props;\n    console.log(params.id)\n    const ids = params.id;\n    const results = (await axios.get('http://localhost:8081/'+ids)).data;\n    this.setState({\n        temperature : results.body.currently.temperature,\n        time : results.body.currently.time,\n        zone : results.body.timezone,\n    });\n    console.log(this.state.results);\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n    \n        {this.state.results === null && <p>Please first select a country zone...</p>}\n        <div className=\"card text-white bg-success mb-3\">\n          <div className=\"card-header\">Temperatura y hora</div>\n          <div className=\"card-body\">\n              <h4 className=\"card-title\">{this.state.zone}</h4>\n              <p className=\"card-text\">{this.state.temperature} <br></br>\n                                        {this.state.time}   </p>\n            \n            </div>\n            \n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  \n}\n\n\n\n\nexport default ApiCall;"]},"metadata":{},"sourceType":"module"}